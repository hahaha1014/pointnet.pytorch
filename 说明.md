pointnet/model.py为原始pointnet模型

pointnet/my_model.py为改进后的pointnet模型，添加senet和基于点云的金字塔池化方法

运行时默认加载model.py中的模型

## 运行：
```
cd utils
conda activate point #激活conda环境
```

分类训练，用于分类不同物体：

python train_classification.py --dataset /home/data6T/pxy/pointnet.pytorch/shapenetcore_partanno_segmentation_benchmark_v0/ --nepoch=5 --dataset_type shapenet

场景分割训练（声呐场景分割）：

python train_segmentation.py --dataset /home/data6T/pxy/pointnet.pytorch/sonar_data/ --nepoch=16 --class_choice=Scene

--num_points修改点数，--nepoch修改批次

分割测试（公开数据集&声呐数据集）：p按键预测结果，t按键真值，--idx修改测试的样本编号

python show_seg.py --model /home/data6T/pxy/pointnet.pytorch/utils/seg/seg_model_Chair_4.pth --dataset /home/data6T/pxy/pointnet.pytorch/shapenetcore_partanno_segmentation_benchmark_v0/ --class_choice 'Chair' --idx 1  

python show_seg.py --model /home/data6T/pxy/pointnet.pytorch/utils/seg/seg_model_Scene_15.pth --dataset /home/data6T/pxy/pointnet.pytorch/sonar_data/ --class_choice 'Scene' --idx 1

分类测试：

python show_cls.py --model /home/data6T/pxy/pointnet.pytorch/utils/cls/cls_model_4.pth --num_points 2500  

## 模型转onnx
```
cd utils
python pth2onnx.py
```

注意：同时将model.py中PointNetDenseCls的forward返回值改成return x

将seg_model_Scene_15.pth保存的模型参数输出成pointnet.onnx文件，Netron可以查看onnx的细节，（当前保存的是2500点数的模型）

## 测试推理时间
```
cd utils
python test.py
```

## 参数量计算
```
cd point
python model.py
```

utils/seg中存放的是训练的模型参数，4096点